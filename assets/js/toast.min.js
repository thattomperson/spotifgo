(()=>{(function(){"use strict";let i=new Map;function r(e){let t=i.get(e);t&&(clearTimeout(t.timer),i.delete(e)),e.classList.remove("toast-enter-active"),e.classList.add("toast-leave-active"),e.addEventListener("transitionend",()=>{e.remove()},{once:!0})}function n(e,t){if(t<=0)return;let s=i.get(e)||{};clearTimeout(s.timer),s.startTime=Date.now(),s.remaining=t,s.paused=!1,s.timer=setTimeout(()=>r(e),t),i.set(e,s);let a=e.querySelector("[data-tui-toast-progress]");a&&(a.style.transition=`width ${t}ms linear`,requestAnimationFrame(()=>{a.style.width="0%"}))}function u(e){let t=i.get(e);if(!t||t.paused||t.remaining<=0)return;clearTimeout(t.timer),t.remaining-=Date.now()-t.startTime,t.paused=!0;let s=e.querySelector("[data-tui-toast-progress]");if(s){let a=window.getComputedStyle(s).width;s.style.transition="none",s.style.width=a}}function c(e){let t=i.get(e);!t||!t.paused||t.remaining<=0||n(e,t.remaining)}function o(e){let t=parseInt(e.getAttribute("data-tui-toast-duration")||"0"),s=e.querySelector("[data-tui-toast-progress]");i.set(e,{timer:null,remaining:t,startTime:Date.now(),paused:!1}),setTimeout(()=>{e.classList.add("toast-enter-active"),s&&(s.style.width="100%"),n(e,t)},50)}document.addEventListener("click",e=>{let t=e.target.closest("[data-tui-toast-dismiss]");if(t){let s=t.closest("[data-tui-toast]");s&&r(s)}}),document.addEventListener("mouseenter",e=>{let t=e.target.closest("[data-tui-toast]");t&&i.has(t)&&u(t)},!0),document.addEventListener("mouseleave",e=>{let t=e.target.closest("[data-tui-toast]");t&&i.has(t)&&c(t)},!0),new MutationObserver(e=>{e.forEach(t=>{t.addedNodes.forEach(s=>{s.nodeType===1&&(s.matches?.("[data-tui-toast]")&&!i.has(s)&&o(s),s.querySelectorAll?.("[data-tui-toast]").forEach(a=>{i.has(a)||o(a)}))})})}).observe(document.body,{childList:!0,subtree:!0})})();})();
